import { Box } from '@chakra-ui/react'
import { forwardRef } from 'react'

export interface LogoProps {
  /** Show full wordmark or just icon */
  variant?: 'icon' | 'wordmark'
  /** Size preset */
  size?: 'sm' | 'md' | 'lg'
  /**
   * Color scheme for background context.
   * 'dark' = white braces & text (for dark backgrounds)
   * 'light' = dark braces & text (for light backgrounds)
   */
  colorScheme?: 'dark' | 'light'
}

const sizes = {
  sm: { wordmarkHeight: 24, iconSize: 32 },
  md: { wordmarkHeight: 32, iconSize: 40 },
  lg: { wordmarkHeight: 48, iconSize: 56 },
}

const DARK_TEXT = '#0F172A'
const LIGHT_TEXT = '#FFFFFF'

/**
 * ForgeKit Logo v2 — Curly braces with flame wordmark.
 *
 * SVG paths exported from Figma design:
 * https://www.figma.com/design/ob2vNe3BTN7qSwsI8qcLSE/Untitled?node-id=7-118
 */
export const Logo = forwardRef<HTMLDivElement, LogoProps>(
  ({ variant = 'wordmark', size = 'md', colorScheme = 'dark' }, ref) => {
    const { wordmarkHeight, iconSize } = sizes[size]
    const braceAndTextColor = colorScheme === 'dark' ? LIGHT_TEXT : DARK_TEXT

    if (variant === 'icon') {
      return (
        <Box ref={ref} display="inline-flex" alignItems="center">
          <svg
            width={iconSize}
            height={iconSize}
            viewBox="7 11 72 64"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            role="img"
            aria-labelledby="forgekit-icon-title"
          >
            <title id="forgekit-icon-title">ForgeKit</title>
            {/* Left curly brace */}
            <path
              d="M25.9 16.4C20.0734 16.4 17.16 20.8334 17.16 29.7V39.2C17.16 41.7334 15.3867 43 11.84 43C15.3867 43 17.16 44.2667 17.16 46.8V56.3C17.16 65.1667 20.0734 69.6 25.9 69.6"
              stroke={braceAndTextColor}
              strokeWidth="4.18"
              strokeLinecap="round"
            />
            {/* Right curly brace */}
            <path
              d="M60.1 16.4C65.9267 16.4 68.84 20.8334 68.84 29.7V39.2C68.84 41.7334 70.6134 43 74.16 43C70.6134 43 68.84 44.2667 68.84 46.8V56.3C68.84 65.1667 65.9267 69.6 60.1 69.6"
              stroke={braceAndTextColor}
              strokeWidth="4.18"
              strokeLinecap="round"
            />
            {/* Outer flame — deep orange */}
            <path
              d="M43 25.9C45.0267 29.7 46.9267 33.5 48.7 37.3C51.2334 42.3667 51.8667 46.8 50.6 50.6C50.0934 54.4 47.56 57.5667 43 60.1C38.44 57.5667 35.9067 54.4 35.4 50.6C34.1334 46.8 34.7667 42.3667 37.3 37.3C39.0734 33.5 40.9734 29.7 43 25.9Z"
              fill="#EA580C"
            />
            {/* Inner flame — orange */}
            <path
              d="M43 32.36C44.52 34.8934 45.7867 37.4267 46.8 39.96C48.32 43.2534 48.5734 46.1667 47.56 48.7C47.0534 51.2334 45.5334 53.3867 43 55.16C40.4667 53.3867 38.9467 51.2334 38.44 48.7C37.4267 46.1667 37.68 43.2534 39.2 39.96C40.2134 37.4267 41.48 34.8934 43 32.36Z"
              fill="#F97316"
            />
            {/* Core flame — yellow */}
            <path
              d="M43 38.44C44.0133 40.2133 44.7733 41.9867 45.28 43.76C45.7867 46.2933 45.66 48.32 44.9 49.84C44.3933 51.1067 43.76 51.9933 43 52.5C42.24 51.9933 41.6067 51.1067 41.1 49.84C40.34 48.32 40.2133 46.2933 40.72 43.76C41.2267 41.9867 41.9867 40.2133 43 38.44Z"
              fill="#FBBF24"
            />
          </svg>
        </Box>
      )
    }

    // Full wordmark — icon + "ForgeKit" as vector paths from Figma
    return (
      <Box ref={ref} display="inline-flex" alignItems="center">
        <svg
          height={wordmarkHeight}
          viewBox="0 0 268 80"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          role="img"
          aria-labelledby="forgekit-wordmark-title"
        >
          <title id="forgekit-wordmark-title">ForgeKit</title>
          {/* Left curly brace */}
          <path
            d="M25.9 16.4C20.0734 16.4 17.16 20.8334 17.16 29.7V39.2C17.16 41.7334 15.3867 43 11.84 43C15.3867 43 17.16 44.2667 17.16 46.8V56.3C17.16 65.1667 20.0734 69.6 25.9 69.6"
            stroke={braceAndTextColor}
            strokeWidth="4.18"
            strokeLinecap="round"
          />
          {/* Right curly brace */}
          <path
            d="M60.1 16.4C65.9267 16.4 68.84 20.8334 68.84 29.7V39.2C68.84 41.7334 70.6134 43 74.16 43C70.6134 43 68.84 44.2667 68.84 46.8V56.3C68.84 65.1667 65.9267 69.6 60.1 69.6"
            stroke={braceAndTextColor}
            strokeWidth="4.18"
            strokeLinecap="round"
          />
          {/* Outer flame — deep orange */}
          <path
            d="M43 25.9C45.0267 29.7 46.9267 33.5 48.7 37.3C51.2334 42.3667 51.8667 46.8 50.6 50.6C50.0934 54.4 47.56 57.5667 43 60.1C38.44 57.5667 35.9067 54.4 35.4 50.6C34.1334 46.8 34.7667 42.3667 37.3 37.3C39.0734 33.5 40.9734 29.7 43 25.9Z"
            fill="#EA580C"
          />
          {/* Inner flame — orange */}
          <path
            d="M43 32.36C44.52 34.8934 45.7867 37.4267 46.8 39.96C48.32 43.2534 48.5734 46.1667 47.56 48.7C47.0534 51.2334 45.5334 53.3867 43 55.16C40.4667 53.3867 38.9467 51.2334 38.44 48.7C37.4267 46.1667 37.68 43.2534 39.2 39.96C40.2134 37.4267 41.48 34.8934 43 32.36Z"
            fill="#F97316"
          />
          {/* Core flame — yellow */}
          <path
            d="M43 38.44C44.0133 40.2133 44.7733 41.9867 45.28 43.76C45.7867 46.2933 45.66 48.32 44.9 49.84C44.3933 51.1067 43.76 51.9933 43 52.5C42.24 51.9933 41.6067 51.1067 41.1 49.84C40.34 48.32 40.2133 46.2933 40.72 43.76C41.2267 41.9867 41.9867 40.2133 43 38.44Z"
            fill="#FBBF24"
          />
          {/* "Forge" text — vector paths */}
          <path
            d="M97.5284 53V23.9091H116.79V28.9801H103.679V35.9119H115.511V40.983H103.679V53H97.5284ZM129.07 53.4261C126.863 53.4261 124.955 52.9574 123.345 52.0199C121.745 51.0729 120.509 49.7566 119.638 48.071C118.767 46.3759 118.331 44.411 118.331 42.1761C118.331 39.9223 118.767 37.9527 119.638 36.267C120.509 34.572 121.745 33.2557 123.345 32.3182C124.955 31.3712 126.863 30.8977 129.07 30.8977C131.276 30.8977 133.179 31.3712 134.78 32.3182C136.39 33.2557 137.63 34.572 138.501 36.267C139.373 37.9527 139.808 39.9223 139.808 42.1761C139.808 44.411 139.373 46.3759 138.501 48.071C137.63 49.7566 136.39 51.0729 134.78 52.0199C133.179 52.9574 131.276 53.4261 129.07 53.4261ZM129.098 48.7386C130.102 48.7386 130.94 48.4545 131.612 47.8864C132.285 47.3087 132.791 46.5227 133.132 45.5284C133.482 44.5341 133.658 43.4025 133.658 42.1335C133.658 40.8646 133.482 39.733 133.132 38.7386C132.791 37.7443 132.285 36.9583 131.612 36.3807C130.94 35.803 130.102 35.5142 129.098 35.5142C128.085 35.5142 127.232 35.803 126.541 36.3807C125.859 36.9583 125.343 37.7443 124.993 38.7386C124.652 39.733 124.482 40.8646 124.482 42.1335C124.482 43.4025 124.652 44.5341 124.993 45.5284C125.343 46.5227 125.859 47.3087 126.541 47.8864C127.232 48.4545 128.085 48.7386 129.098 48.7386ZM143.743 53V31.1818H149.609V34.9886H149.837C150.234 33.6345 150.902 32.6117 151.839 31.9205C152.777 31.2197 153.857 30.8693 155.078 30.8693C155.381 30.8693 155.708 30.8883 156.058 30.9261C156.409 30.964 156.716 31.0161 156.982 31.0824V36.4517C156.697 36.3665 156.304 36.2907 155.803 36.2244C155.301 36.1581 154.841 36.125 154.425 36.125C153.535 36.125 152.739 36.3191 152.038 36.7074C151.347 37.0862 150.798 37.6165 150.391 38.2983C149.993 38.9801 149.794 39.7661 149.794 40.6562V53H143.743ZM168.924 61.6364C166.964 61.6364 165.283 61.3665 163.881 60.8267C162.489 60.2964 161.381 59.572 160.558 58.6534C159.734 57.7348 159.199 56.7027 158.952 55.5568L164.549 54.804C164.719 55.2396 164.989 55.6468 165.359 56.0256C165.728 56.4044 166.216 56.7074 166.822 56.9347C167.437 57.1714 168.185 57.2898 169.066 57.2898C170.382 57.2898 171.467 56.9678 172.319 56.3239C173.181 55.6894 173.612 54.6241 173.612 53.1278V49.1364H173.356C173.091 49.7424 172.693 50.3153 172.163 50.8551C171.632 51.3949 170.951 51.8352 170.117 52.1761C169.284 52.517 168.29 52.6875 167.134 52.6875C165.496 52.6875 164.004 52.3087 162.66 51.5511C161.325 50.7841 160.259 49.6146 159.464 48.0426C158.678 46.4612 158.285 44.4631 158.285 42.0483C158.285 39.5767 158.687 37.5123 159.492 35.8551C160.297 34.1979 161.367 32.9574 162.702 32.1335C164.047 31.3097 165.52 30.8977 167.12 30.8977C168.342 30.8977 169.364 31.1061 170.188 31.5227C171.012 31.9299 171.675 32.4413 172.177 33.0568C172.688 33.6629 173.081 34.2595 173.356 34.8466H173.583V31.1818H179.592V53.2131C179.592 55.0691 179.137 56.6222 178.228 57.8722C177.319 59.1222 176.059 60.0597 174.45 60.6847C172.849 61.3191 171.007 61.6364 168.924 61.6364ZM169.052 48.142C170.027 48.142 170.851 47.9006 171.523 47.4176C172.205 46.9252 172.726 46.2244 173.086 45.3153C173.455 44.3968 173.64 43.2983 173.64 42.0199C173.64 40.7415 173.46 39.6335 173.1 38.696C172.74 37.7491 172.219 37.0152 171.538 36.4943C170.856 35.9735 170.027 35.7131 169.052 35.7131C168.058 35.7131 167.219 35.983 166.538 36.5227C165.856 37.053 165.34 37.7917 164.989 38.7386C164.639 39.6856 164.464 40.7794 164.464 42.0199C164.464 43.2794 164.639 44.3684 164.989 45.2869C165.349 46.196 165.865 46.9015 166.538 47.4034C167.219 47.8958 168.058 48.142 169.052 48.142ZM194.35 53.4261C192.106 53.4261 190.174 52.9716 188.555 52.0625C186.945 51.1439 185.704 49.8466 184.833 48.1705C183.962 46.4848 183.526 44.4915 183.526 42.1903C183.526 39.946 183.962 37.9763 184.833 36.2812C185.704 34.5862 186.931 33.2652 188.512 32.3182C190.103 31.3712 191.969 30.8977 194.109 30.8977C195.548 30.8977 196.888 31.1297 198.129 31.5938C199.379 32.0483 200.468 32.7348 201.396 33.6534C202.333 34.572 203.062 35.7273 203.583 37.1193C204.104 38.5019 204.364 40.1212 204.364 41.9773V43.6392H185.941V39.8892H198.668C198.668 39.018 198.479 38.2462 198.1 37.5739C197.721 36.9015 197.196 36.3759 196.523 35.9972C195.861 35.6089 195.089 35.4148 194.208 35.4148C193.29 35.4148 192.475 35.6278 191.765 36.054C191.064 36.4706 190.515 37.0341 190.117 37.7443C189.719 38.4451 189.516 39.2263 189.506 40.0881V43.6534C189.506 44.733 189.705 45.6657 190.103 46.4517C190.51 47.2377 191.083 47.8438 191.822 48.2699C192.56 48.696 193.436 48.9091 194.45 48.9091C195.122 48.9091 195.737 48.8144 196.296 48.625C196.855 48.4356 197.333 48.1515 197.731 47.7727C198.129 47.3939 198.432 46.9299 198.64 46.3807L204.237 46.75C203.952 48.0947 203.37 49.2689 202.489 50.2727C201.618 51.267 200.491 52.0436 199.109 52.6023C197.736 53.1515 196.149 53.4261 194.35 53.4261Z"
            fill={braceAndTextColor}
          />
          {/* "Kit" text — vector paths */}
          <path
            d="M208.427 53V23.9091H214.577V36.7358H214.961L225.43 23.9091H232.802L222.006 36.9347L232.93 53H225.572L217.603 41.0398L214.577 44.733V53H208.427ZM237.259 53V31.1818H243.31V53H237.259ZM240.298 28.3693C239.399 28.3693 238.627 28.071 237.983 27.4744C237.348 26.8684 237.031 26.1439 237.031 25.3011C237.031 24.4678 237.348 23.7528 237.983 23.1562C238.627 22.5502 239.399 22.2472 240.298 22.2472C241.198 22.2472 241.965 22.5502 242.599 23.1562C243.243 23.7528 243.565 24.4678 243.565 25.3011C243.565 26.1439 243.243 26.8684 242.599 27.4744C241.965 28.071 241.198 28.3693 240.298 28.3693ZM259.762 31.1818V35.7273H246.623V31.1818H259.762ZM249.606 25.9545H255.657V46.2955C255.657 46.8542 255.742 47.2898 255.913 47.6023C256.083 47.9053 256.32 48.1184 256.623 48.2415C256.935 48.3646 257.295 48.4261 257.702 48.4261C257.987 48.4261 258.271 48.4025 258.555 48.3551C258.839 48.2983 259.057 48.2557 259.208 48.2273L260.16 52.7301C259.857 52.8248 259.431 52.9337 258.881 53.0568C258.332 53.1894 257.665 53.2699 256.879 53.2983C255.42 53.3551 254.142 53.161 253.043 52.7159C251.954 52.2708 251.107 51.5795 250.501 50.642C249.895 49.7045 249.596 48.5208 249.606 47.0909V25.9545Z"
            fill="#F97316"
          />
        </svg>
      </Box>
    )
  }
)

Logo.displayName = 'Logo'
